(()=>{var e={};e.id=425,e.ids=[425],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},1041:e=>{"use strict";e.exports=require("node:url")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},460:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>u,routeModule:()=>m,tree:()=>l}),n(1317),n(4604),n(1800);var a=n(3789),s=n(794),r=n(5788),i=n.n(r),o=n(7682),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);n.d(t,c);let l=["",{children:["solanavotingapp",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,1317)),"/home/jevan/projects/program-jeevan4476/src/app/solanavotingapp/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,8781))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,4604)),"/home/jevan/projects/program-jeevan4476/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,1800,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,8781))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/jevan/projects/program-jeevan4476/src/app/solanavotingapp/page.tsx"],p="/solanavotingapp/page",d={require:n,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/solanavotingapp/page",pathname:"/solanavotingapp",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},7775:(e,t,n)=>{Promise.resolve().then(n.bind(n,5265))},5265:(e,t,n)=>{"use strict";n.d(t,{default:()=>q});var a=n(5292),s=n(1380),r=n(7086),i=n(6893),o=n(4914),c=n(4512),l=n(2742);let u=JSON.parse('{"address":"ELETaimWWRFVk64LSyfNMWhXGPSvZL2mxf3dbqhBcdKX","metadata":{"name":"solanavotingapp","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"close","discriminator":[98,165,201,177,108,65,206,96],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"solanavotingapp","writable":true}],"args":[]},{"name":"decrement","discriminator":[106,227,168,59,248,27,150,101],"accounts":[{"name":"solanavotingapp","writable":true}],"args":[]},{"name":"increment","discriminator":[11,18,104,9,104,174,59,33],"accounts":[{"name":"solanavotingapp","writable":true}],"args":[]},{"name":"initialize","discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"solanavotingapp","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"set","discriminator":[198,51,53,241,116,29,126,194],"accounts":[{"name":"solanavotingapp","writable":true}],"args":[{"name":"value","type":"u8"}]}],"accounts":[{"name":"Solanavotingapp","discriminator":[172,197,241,21,134,139,208,247]}],"types":[{"name":"Solanavotingapp","type":{"kind":"struct","fields":[{"name":"count","type":"u8"}]}}]}'),p=new l.PublicKey(u.address);var d=n(1879),m=n(4413),g=n(5056),x=n(9534),v=n(6024),h=n(1311);function b(){let{connection:e}=(0,d.R)(),{cluster:t}=(0,h.xu)(),n=(0,i.pg)(),a=(0,r.j)(),s=(0,x.useMemo)(()=>(function(e){switch(e){case"devnet":case"testnet":return new l.PublicKey("ELETaimWWRFVk64LSyfNMWhXGPSvZL2mxf3dbqhBcdKX");default:return p}})(t.network),[t]),o=new c.$r(u,a),b=(0,m.a)({queryKey:["solanavotingapp","all",{cluster:t}],queryFn:()=>o.account.solanavotingapp.all()}),y=(0,m.a)({queryKey:["get-program-account",{cluster:t}],queryFn:()=>e.getParsedAccountInfo(s)}),j=(0,g.D)({mutationKey:["solanavotingapp","initialize",{cluster:t}],mutationFn:e=>o.methods.initialize().accounts({solanavotingapp:e.publicKey}).signers([e]).rpc(),onSuccess:e=>(n(e),b.refetch()),onError:()=>v.ZP.error("Failed to initialize account")});return{program:o,programId:s,accounts:b,getProgramAccount:y,initialize:j}}function y(){let{initialize:e}=b();return(0,a.jsxs)("button",{className:"btn btn-xs lg:btn-md btn-primary",onClick:()=>e.mutateAsync(l.Keypair.generate()),disabled:e.isPending,children:["Create ",e.isPending&&"..."]})}function j(){let{accounts:e,getProgramAccount:t}=b();return t.isLoading?a.jsx("span",{className:"loading loading-spinner loading-lg"}):t.data?.value?a.jsx("div",{className:"space-y-6",children:e.isLoading?a.jsx("span",{className:"loading loading-spinner loading-lg"}):e.data?.length?a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.data?.map(e=>a.jsx(f,{account:e.publicKey},e.publicKey.toString()))}):(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl",children:"No accounts"}),"No accounts found. Create one above to get started."]})}):a.jsx("div",{className:"alert alert-info flex justify-center",children:a.jsx("span",{children:"Program account not found. Make sure you have deployed the program and are on the correct cluster."})})}function f({account:e}){let{accountQuery:t,incrementMutation:n,setMutation:s,decrementMutation:r,closeMutation:c}=function({account:e}){let{cluster:t}=(0,h.xu)(),n=(0,i.pg)(),{program:a,accounts:s}=b(),r=(0,m.a)({queryKey:["solanavotingapp","fetch",{cluster:t,account:e}],queryFn:()=>a.account.solanavotingapp.fetch(e)}),o=(0,g.D)({mutationKey:["solanavotingapp","close",{cluster:t,account:e}],mutationFn:()=>a.methods.close().accounts({solanavotingapp:e}).rpc(),onSuccess:e=>(n(e),s.refetch())}),c=(0,g.D)({mutationKey:["solanavotingapp","decrement",{cluster:t,account:e}],mutationFn:()=>a.methods.decrement().accounts({solanavotingapp:e}).rpc(),onSuccess:e=>(n(e),r.refetch())}),l=(0,g.D)({mutationKey:["solanavotingapp","increment",{cluster:t,account:e}],mutationFn:()=>a.methods.increment().accounts({solanavotingapp:e}).rpc(),onSuccess:e=>(n(e),r.refetch())}),u=(0,g.D)({mutationKey:["solanavotingapp","set",{cluster:t,account:e}],mutationFn:t=>a.methods.set(t).accounts({solanavotingapp:e}).rpc(),onSuccess:e=>(n(e),r.refetch())});return{accountQuery:r,closeMutation:o,decrementMutation:c,incrementMutation:l,setMutation:u}}({account:e}),l=(0,x.useMemo)(()=>t.data?.count??0,[t.data?.count]);return t.isLoading?a.jsx("span",{className:"loading loading-spinner loading-lg"}):a.jsx("div",{className:"card card-bordered border-base-300 border-4 text-neutral-content",children:a.jsx("div",{className:"card-body items-center text-center",children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("h2",{className:"card-title justify-center text-3xl cursor-pointer",onClick:()=>t.refetch(),children:l}),(0,a.jsxs)("div",{className:"card-actions justify-around",children:[a.jsx("button",{className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>n.mutateAsync(),disabled:n.isPending,children:"Increment"}),a.jsx("button",{className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>{let e=window.prompt("Set value to:",l.toString()??"0");if(!(!e||parseInt(e)===l||isNaN(parseInt(e))))return s.mutateAsync(parseInt(e))},disabled:s.isPending,children:"Set"}),a.jsx("button",{className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>r.mutateAsync(),disabled:r.isPending,children:"Decrement"})]}),(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx("p",{children:a.jsx(o.Q1,{path:`account/${e}`,label:(0,i.ZB)(e.toString())})}),a.jsx("button",{className:"btn btn-xs btn-secondary btn-outline",onClick:()=>{if(window.confirm("Are you sure you want to close this account?"))return c.mutateAsync()},disabled:c.isPending,children:"Close"})]})]})})})}function q(){let{publicKey:e}=(0,s.O)(),{programId:t}=b();return e?(0,a.jsxs)("div",{children:[(0,a.jsxs)(i.x0,{title:"Solanavotingapp",subtitle:'Create a new account by clicking the "Create" button. The state of a account is stored on-chain and can be manipulated by calling the program\'s methods (increment, decrement, set, and close).',children:[a.jsx("p",{className:"mb-6",children:a.jsx(o.Q1,{path:`account/${t}`,label:(0,i.ZB)(t.toString())})}),a.jsx(y,{})]}),a.jsx(j,{})]}):a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"hero py-[64px]",children:a.jsx("div",{className:"hero-content text-center",children:a.jsx(r.T,{})})})})}},1317:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(5607),s=n(8154);let r=(0,s.createProxy)(String.raw`/home/jevan/projects/program-jeevan4476/src/components/solanavotingapp/solanavotingapp-feature.tsx`),{__esModule:i,$$typeof:o}=r;r.default;let c=(0,s.createProxy)(String.raw`/home/jevan/projects/program-jeevan4476/src/components/solanavotingapp/solanavotingapp-feature.tsx#default`);function l(){return a.jsx(c,{})}},8781:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(3138);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[331,884,138,29],()=>n(460));module.exports=a})();